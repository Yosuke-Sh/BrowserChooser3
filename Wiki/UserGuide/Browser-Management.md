# ブラウザ管理

BrowserChooser3でのブラウザ管理について詳しく説明します。

## 🔍 自動ブラウザ検出

### 検出されるブラウザ
BrowserChooser3は以下のブラウザを自動的に検出します：

| ブラウザ | 検出状況 | デフォルトパス |
|---------|---------|---------------|
| Google Chrome | ✅ 自動検出 | `C:\Program Files\Google\Chrome\Application\chrome.exe` |
| Microsoft Edge | ✅ 自動検出 | `C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe` |
| Mozilla Firefox | ✅ 自動検出 | `C:\Program Files\Mozilla Firefox\firefox.exe` |
| Opera | ✅ 自動検出 | `C:\Users\[User]\AppData\Local\Programs\Opera\launcher.exe` |
| Brave | ✅ 自動検出 | `C:\Program Files\BraveSoftware\Brave-Browser\Application\brave.exe` |
| Vivaldi | ✅ 自動検出 | `C:\Users\[User]\AppData\Local\Vivaldi\Application\vivaldi.exe` |
| Chromium | ✅ 自動検出 | `C:\Program Files\Chromium\Application\chrome.exe` |

### 検出プロセス
1. **レジストリ検索**: Windowsレジストリからブラウザ情報を取得
2. **パス検索**: 一般的なインストールパスを確認
3. **実行ファイル確認**: ブラウザの実行ファイルが存在するか確認
4. **アイコン抽出**: ブラウザのアイコンを自動取得

## ➕ ブラウザの追加

### 手動追加の手順
1. オプションダイアログを開く（`O`キー）
2. 「Browsers」タブを選択
3. 「Add」ボタンをクリック
4. 以下の情報を入力：

#### 必須項目
- **Name**: ブラウザの表示名（例：My Custom Browser）
- **Target**: ブラウザの実行ファイルパス（例：`C:\Path\To\Browser.exe`）

#### オプション項目
- **Arguments**: コマンドライン引数（例：`--new-window {url}`）
- **Icon**: ブラウザのアイコンファイルパス

### アイコン設定

#### アイコン選択方法
1. 「Icon」フィールドの「...」ボタンをクリック
2. 以下のファイル形式から選択：
   - **実行ファイル** (.exe): ブラウザの実行ファイル
   - **アイコンファイル** (.ico): アイコンファイル
   - **画像ファイル** (.png, .jpg, .jpeg): 画像ファイル

#### アイコン自動取得
- 実行ファイルを選択した場合、自動的にアイコンが抽出されます
- アイコンファイルや画像ファイルを選択した場合、そのファイルがアイコンとして使用されます

### コマンドライン引数

#### 一般的な引数パターン
```cmd
# 新しいウィンドウで開く
--new-window {url}

# 新しいタブで開く
--new-tab {url}

# プライベートモードで開く
--incognito {url}

# 特定のプロファイルで開く
--profile-directory="Profile 1" {url}
```

#### プレースホルダー
- `{url}`: 実際のURLに置き換えられます
- `{title}`: ページタイトルに置き換えられます（対応ブラウザのみ）

## ✏️ ブラウザの編集

### 編集手順
1. ブラウザ一覧から編集したいブラウザを選択
2. 「Edit」ボタンをクリック
3. 設定を変更
4. 「OK」をクリックして保存

### 編集可能項目
- **Name**: ブラウザの表示名
- **Target**: ブラウザの実行ファイルパス
- **Arguments**: コマンドライン引数
- **Icon**: ブラウザのアイコン

### 注意事項
- システムブラウザ（自動検出されたブラウザ）は編集可能
- 編集後は設定が保存され、次回起動時にも反映されます

## 🗑️ ブラウザの削除

### 削除手順
1. ブラウザ一覧から削除したいブラウザを選択
2. 「Remove」ボタンをクリック
3. 確認ダイアログで「Yes」をクリック

### 削除の注意事項
- 削除したブラウザは完全に削除されます
- 自動検出されたブラウザは再検出で復元可能
- 手動追加したブラウザは削除後に再追加が必要

## 📋 ブラウザの順序変更

### 順序変更手順
1. ブラウザ一覧でブラウザを選択
2. 「Up」ボタンで上に移動
3. 「Down」ボタンで下に移動

### 順序の重要性
- ブラウザ選択画面での表示順序
- キーボードナビゲーションでの移動順序
- デフォルトブラウザの優先順位

## 🎯 デフォルトブラウザ設定

### デフォルトブラウザの概念
- ブラウザ選択画面で最初に選択されるブラウザ
- リストの最上位に表示されるブラウザ
- キーボードナビゲーションで最初にフォーカスされるブラウザ

### デフォルトブラウザの変更
1. ブラウザ一覧でブラウザを選択
2. 「Up」ボタンで最上位に移動
3. または、他のブラウザを下に移動

## 🔧 高度な設定

### カスタム引数の設定
```cmd
# 複数の引数を組み合わせ
--new-window --disable-web-security {url}

# 条件付き引数
--profile-directory="Work" --new-window {url}

# 特殊な引数
--user-data-dir="C:\CustomProfile" {url}
```

### プロファイル別設定
```cmd
# 作業用プロファイル
--profile-directory="Work" {url}

# 個人用プロファイル
--profile-directory="Personal" {url}

# テスト用プロファイル
--profile-directory="Test" {url}
```

### セキュリティ設定
```cmd
# セキュリティ無効化（開発用）
--disable-web-security --disable-features=VizDisplayCompositor {url}

# サンドボックス無効化
--no-sandbox {url}

# 拡張機能無効化
--disable-extensions {url}
```

## 🚨 トラブルシューティング

### よくある問題

#### ブラウザが検出されない
**原因**:
- ブラウザが非標準の場所にインストールされている
- ブラウザが正しくインストールされていない
- レジストリ情報が破損している

**解決策**:
1. 手動でブラウザを追加
2. ブラウザのパスを確認
3. ブラウザを再インストール

#### ブラウザが起動しない
**原因**:
- 実行ファイルのパスが間違っている
- コマンドライン引数が正しくない
- ブラウザが破損している

**解決策**:
1. ブラウザのパスを確認
2. コマンドライン引数を修正
3. ブラウザを再インストール

#### アイコンが表示されない
**原因**:
- アイコンファイルが見つからない
- アイコンファイルが破損している
- ファイル形式が対応していない

**解決策**:
1. アイコンファイルのパスを確認
2. 別のアイコンファイルを選択
3. 実行ファイルからアイコンを抽出

### デバッグ方法

#### ログの確認
1. 「Other」タブでログを有効化
2. ブラウザ操作を実行
3. ログファイルを確認

#### 手動テスト
1. コマンドプロンプトでブラウザを直接実行
2. 引数が正しく動作するか確認
3. エラーメッセージを確認

## 💡 ベストプラクティス

### ブラウザ命名規則
- 分かりやすい名前を使用（例：Chrome Work, Firefox Personal）
- プロファイル名を含める（例：Chrome - Work Profile）
- バージョン情報を含める（例：Chrome 120.0.6099.109）

### アイコン管理
- 高解像度のアイコンを使用
- 一貫性のあるアイコンサイズ
- 視認性の良いアイコンを選択

### 引数設定
- 必要最小限の引数を使用
- セキュリティを考慮した引数設定
- パフォーマンスを考慮した引数設定

### 順序管理
- よく使うブラウザを上位に配置
- 関連するブラウザをグループ化
- 定期的に順序を見直し

---

*より詳細な設定については、[設定ガイド](Configuration-Guide)をご覧ください。*
